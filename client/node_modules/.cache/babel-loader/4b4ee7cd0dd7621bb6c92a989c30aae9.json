{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\dell\\\\Documents\\\\React\\\\Check-Inn-Morocco-teta\\\\Check-Inn-Morocco-V-Beta\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\dell\\\\Documents\\\\React\\\\Check-Inn-Morocco-teta\\\\Check-Inn-Morocco-V-Beta\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Container,Grow,Grid,AppBar,TextField,Button,Paper}from'@material-ui/core';import{useDispatch}from'react-redux';import{useHistory,useLocation}from'react-router-dom';import ChipInput from'material-ui-chip-input';import{getRestausBySearch}from'../../actions/restaus';import Restaus from'../Restaus/Restaus';import FormR from'../FormR/FormR';import Pagination from'../PaginationR';import useStyles from'./styles';function useQuery(){return new URLSearchParams(useLocation().search);}var HomeRestau=function HomeRestau(){var classes=useStyles();var query=useQuery();var page=query.get('page')||1;var searchQuery=query.get('searchQuery');var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];var dispatch=useDispatch();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var history=useHistory();var searchRestau=function searchRestau(){if(search.trim()||tags){dispatch(getRestausBySearch({search:search,tags:tags.join(',')}));history.push(\"/restaus/search?searchQuery=\".concat(search||'none',\"&tags=\").concat(tags.join(',')));}else{history.push('/r');}};var handleKeyPress=function handleKeyPress(e){if(e.keyCode===13){searchRestau();}};var handleAddChip=function handleAddChip(tag){return setTags([].concat(_toConsumableArray(tags),[tag]));};var handleDeleteChip=function handleDeleteChip(chipToDelete){return setTags(tags.filter(function(tag){return tag!==chipToDelete;}));};return/*#__PURE__*/React.createElement(Grow,{in:true},/*#__PURE__*/React.createElement(Container,{maxWidth:\"xl\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"space-between\",alignItems:\"stretch\",spacing:3,className:classes.gridContainer},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:9},/*#__PURE__*/React.createElement(Restaus,{setCurrentId:setCurrentId})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:3},/*#__PURE__*/React.createElement(AppBar,{className:classes.appBarSearch,position:\"static\",color:\"inherit\"},/*#__PURE__*/React.createElement(TextField,{onKeyDown:handleKeyPress,name:\"search\",variant:\"outlined\",label:\"Search Restaurant\",fullWidth:true,value:search,onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/React.createElement(ChipInput,{style:{margin:'10px 0'},value:tags,onAdd:function onAdd(chip){return handleAddChip(chip);},onDelete:function onDelete(chip){return handleDeleteChip(chip);},label:\"Search by city\",variant:\"outlined\"}),/*#__PURE__*/React.createElement(Button,{onClick:searchRestau,className:classes.searchButton,variant:\"contained\",color:\"primary\"},\"Search Restaurant\")),/*#__PURE__*/React.createElement(FormR,{currentId:currentId,setCurrentId:setCurrentId}),!searchQuery&&!tags.length&&/*#__PURE__*/React.createElement(Paper,{className:classes.pagination,elevation:6},/*#__PURE__*/React.createElement(Pagination,{page:page}))))));};export default HomeRestau;","map":{"version":3,"sources":["C:/Users/dell/Documents/React/Check-Inn-Morocco-teta/Check-Inn-Morocco-V-Beta/client/src/components/HomeRestau/HomeRestau.js"],"names":["React","useState","Container","Grow","Grid","AppBar","TextField","Button","Paper","useDispatch","useHistory","useLocation","ChipInput","getRestausBySearch","Restaus","FormR","Pagination","useStyles","useQuery","URLSearchParams","search","HomeRestau","classes","query","page","get","searchQuery","currentId","setCurrentId","dispatch","setSearch","tags","setTags","history","searchRestau","trim","join","push","handleKeyPress","e","keyCode","handleAddChip","tag","handleDeleteChip","chipToDelete","filter","gridContainer","appBarSearch","target","value","margin","chip","searchButton","length","pagination"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Container, Grow, Grid, AppBar, TextField, Button, Paper } from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport ChipInput from 'material-ui-chip-input';\r\n\r\nimport { getRestausBySearch } from '../../actions/restaus';\r\nimport Restaus from '../Restaus/Restaus';\r\nimport FormR from '../FormR/FormR';\r\nimport Pagination from '../PaginationR';\r\nimport useStyles from './styles';\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\nconst HomeRestau = () => {\r\n  const classes = useStyles();\r\n  const query = useQuery();\r\n  const page = query.get('page') || 1;\r\n  const searchQuery = query.get('searchQuery');\r\n\r\n  const [currentId, setCurrentId] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const searchRestau = () => {\r\n    if (search.trim() || tags) {\r\n      dispatch(getRestausBySearch({ search, tags: tags.join(',') }));\r\n      history.push(`/restaus/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\r\n    } else {\r\n      history.push('/r');\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.keyCode === 13) {\r\n        searchRestau();\r\n    }\r\n  };\r\n\r\n  const handleAddChip = (tag) => setTags([...tags, tag]);\r\n\r\n  const handleDeleteChip = (chipToDelete) => setTags(tags.filter((tag) => tag !== chipToDelete));\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid container justify=\"space-between\" alignItems=\"stretch\" spacing={3} className={classes.gridContainer}>\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Restaus setCurrentId={setCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\r\n              <TextField onKeyDown={handleKeyPress} name=\"search\" variant=\"outlined\" label=\"Search Restaurant\" fullWidth value={search} onChange={(e) => setSearch(e.target.value)} />\r\n              <ChipInput\r\n                style={{ margin: '10px 0' }}\r\n                value={tags}\r\n                onAdd={(chip) => handleAddChip(chip)}\r\n                onDelete={(chip) => handleDeleteChip(chip)}\r\n                label=\"Search by city\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Button onClick={searchRestau} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search Restaurant</Button>\r\n            </AppBar>\r\n            <FormR currentId={currentId} setCurrentId={setCurrentId} />\r\n            {(!searchQuery && !tags.length) && (\r\n              <Paper className={classes.pagination} elevation={6}>\r\n                <Pagination page={page} />\r\n              </Paper>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default HomeRestau;\r\n"]},"metadata":{},"sourceType":"module"}