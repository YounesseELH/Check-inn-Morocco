{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Documents\\\\React\\\\Check-Inn-Morocco-teta\\\\Check-Inn-Morocco-V-Beta\\\\client\\\\src\\\\components\\\\FormH\\\\FormH.js\";\nimport React, { useState, useEffect } from 'react';\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FileBase from 'react-file-base64';\nimport { useHistory } from 'react-router-dom';\nimport ChipInput from 'material-ui-chip-input';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\nimport { createHotelB, updateHotelB } from '../../actions/hotels';\nimport useStyles from './styles';\n\nconst FormH = ({\n  currentId,\n  setCurrentId\n}) => {\n  var _user$result;\n\n  const [hotelData, setHotelData] = useState({\n    title: '',\n    message: '',\n    address: '',\n    price: '',\n    stars: '',\n    tags: [],\n    selectedFile: ''\n  });\n  const hotel = useSelector(state => currentId ? state.hotels.hotels.find(message => message._id === currentId) : null);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const history = useHistory();\n\n  const clear = () => {\n    setCurrentId(0);\n    setHotelData({\n      title: '',\n      message: '',\n      address: '',\n      price: '',\n      stars: '',\n      tags: [],\n      selectedFile: ''\n    });\n  };\n\n  useEffect(() => {\n    if (!(hotel === null || hotel === void 0 ? void 0 : hotel.title)) clear();\n    if (hotel) setHotelData(hotel);\n  }, [hotel]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (currentId === 0) {\n      var _user$hotel;\n\n      dispatch(createHotelB({ ...hotelData,\n        name: user === null || user === void 0 ? void 0 : (_user$hotel = user.hotel) === null || _user$hotel === void 0 ? void 0 : _user$hotel.name\n      }, history));\n      clear();\n    } else {\n      var _user$hotel2;\n\n      dispatch(updateHotelB(currentId, { ...hotelData,\n        name: user === null || user === void 0 ? void 0 : (_user$hotel2 = user.hotel) === null || _user$hotel2 === void 0 ? void 0 : _user$hotel2.name\n      }));\n      clear();\n    }\n  };\n\n  if (!(user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result.name)) {\n    return /*#__PURE__*/React.createElement(Paper, {\n      className: classes.paper,\n      elevation: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, \"you're signed out!\"));\n  }\n\n  const handleAddChip = tag => {\n    setHotelData({ ...hotelData,\n      tags: [...hotelData.tags, tag]\n    });\n  };\n\n  const handleDeleteChip = chipToDelete => {\n    setHotelData({ ...hotelData,\n      tags: hotelData.tags.filter(tag => tag !== chipToDelete)\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    noValidate: true,\n    className: `${classes.root} ${classes.form}`,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, currentId ? `Editing \"${hotel === null || hotel === void 0 ? void 0 : hotel.title}\"` : 'Registre new hotel'), /*#__PURE__*/React.createElement(TextField, {\n    name: \"title\",\n    variant: \"outlined\",\n    label: \"Hotel name\",\n    fullWidth: true,\n    value: hotelData.title,\n    onChange: e => setHotelData({ ...hotelData,\n      title: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"message\",\n    variant: \"outlined\",\n    label: \"details\",\n    fullWidth: true,\n    multiline: true,\n    rows: 4,\n    value: hotelData.message,\n    onChange: e => setHotelData({ ...hotelData,\n      message: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"address\",\n    variant: \"outlined\",\n    label: \"Hotel address\",\n    fullWidth: true,\n    multiline: true,\n    rows: 2,\n    value: hotelData.address,\n    onChange: e => setHotelData({ ...hotelData,\n      address: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"price\",\n    variant: \"outlined\",\n    label: \"Average price\",\n    fullWidth: true,\n    value: hotelData.price,\n    onChange: e => setHotelData({ ...hotelData,\n      price: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      '& > legend': {\n        mt: 2\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Hotel rate\"), /*#__PURE__*/React.createElement(Rating, {\n    name: \"stars\",\n    value: hotelData.stars,\n    onChange: e => setHotelData({ ...hotelData,\n      stars: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '5px 0',\n      width: '94%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ChipInput, {\n    name: \"tags\",\n    variant: \"outlined\",\n    label: \"city\",\n    fullWidth: true,\n    value: hotelData.tags,\n    onAdd: chip => handleAddChip(chip),\n    onDelete: chip => handleDeleteChip(chip),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.fileInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FileBase, {\n    type: \"file\",\n    multiple: false,\n    onDone: ({\n      base64\n    }) => setHotelData({ ...hotelData,\n      selectedFile: base64\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 44\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: classes.buttonSubmit,\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    type: \"submit\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Save hotel\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"small\",\n    onClick: clear,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Clear\")));\n};\n\nexport default FormH;\n/*\n\n        <TextField name=\"stars\" variant=\"outlined\" label=\"stars\" fullWidth value={hotelData.stars} onChange={(e) => setHotelData({ ...hotelData, stars: e.target.value })} />\nonChange={(event, newValue) => {\n          setValue(newValue);\n        }}\n\n\n                <TextField name=\"stars\" variant=\"outlined\" label=\"stars\" fullWidth value={hotelData.stars} onChange={(e) => setHotelData({ ...hotelData, stars: e.target.value })} />\n\n\n*/","map":{"version":3,"sources":["C:/Users/dell/Documents/React/Check-Inn-Morocco-teta/Check-Inn-Morocco-V-Beta/client/src/components/FormH/FormH.js"],"names":["React","useState","useEffect","TextField","Button","Typography","Paper","useDispatch","useSelector","FileBase","useHistory","ChipInput","Rating","Box","createHotelB","updateHotelB","useStyles","FormH","currentId","setCurrentId","hotelData","setHotelData","title","message","address","price","stars","tags","selectedFile","hotel","state","hotels","find","_id","dispatch","classes","user","JSON","parse","localStorage","getItem","history","clear","handleSubmit","e","preventDefault","name","result","paper","handleAddChip","tag","handleDeleteChip","chipToDelete","filter","root","form","target","value","mt","padding","width","chip","fileInput","base64","buttonSubmit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FileBase from 'react-file-base64';\nimport { useHistory } from 'react-router-dom';\nimport ChipInput from 'material-ui-chip-input';\n\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\n\nimport { createHotelB, updateHotelB } from '../../actions/hotels';\nimport useStyles from './styles';\n\nconst FormH = ({ currentId, setCurrentId }) => {\n  const [hotelData, setHotelData] = useState({ title: '', message: '', address: '', price: '', stars: '', tags: [], selectedFile: '' });\n  const hotel = useSelector((state) => (currentId ? state.hotels.hotels.find((message) => message._id === currentId) : null));\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const history = useHistory();\n\n  const clear = () => {\n    setCurrentId(0);\n    setHotelData({ title: '', message: '', address: '', price: '', stars: '', tags: [], selectedFile: '' });\n  };\n\n  useEffect(() => {\n    if (!hotel?.title) clear();\n    if (hotel) setHotelData(hotel);\n  }, [hotel]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (currentId === 0) {\n      dispatch(createHotelB({ ...hotelData, name: user?.hotel?.name }, history));\n      clear();\n    } else {\n      dispatch(updateHotelB(currentId, { ...hotelData, name: user?.hotel?.name }));\n      clear();\n    }\n  };\n \n  if (!user?.result?.name) {\n    return (\n      <Paper className={classes.paper} elevation={6}>\n        <Typography variant=\"h6\" align=\"center\">\n          you're signed out!\n        </Typography>\n      </Paper>\n    );\n  }\n\n  const handleAddChip = (tag) => {\n    setHotelData({ ...hotelData, tags: [...hotelData.tags, tag] });\n  };\n\n  const handleDeleteChip = (chipToDelete) => {\n    setHotelData({ ...hotelData, tags: hotelData.tags.filter((tag) => tag !== chipToDelete) });\n  };\n\n  return (\n    <Paper className={classes.paper} elevation={6}>\n      <form autoComplete=\"off\" noValidate className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}>\n        <Typography variant=\"h6\">{currentId ? `Editing \"${hotel?.title}\"` : 'Registre new hotel'}</Typography>\n        <TextField name=\"title\" variant=\"outlined\" label=\"Hotel name\" fullWidth value={hotelData.title} onChange={(e) => setHotelData({ ...hotelData, title: e.target.value })} />\n        <TextField name=\"message\" variant=\"outlined\" label=\"details\" fullWidth multiline rows={4} value={hotelData.message} onChange={(e) => setHotelData({ ...hotelData, message: e.target.value })} />\n        \n        <TextField name=\"address\" variant=\"outlined\" label=\"Hotel address\" fullWidth multiline rows={2} value={hotelData.address} onChange={(e) => setHotelData({ ...hotelData, address: e.target.value })} />\n        <TextField name=\"price\" variant=\"outlined\" label=\"Average price\" fullWidth value={hotelData.price} onChange={(e) => setHotelData({ ...hotelData, price: e.target.value })} />\n\n\n        <Box\n      sx={{\n        '& > legend': { mt: 2 },\n      }}\n    >\n      <Typography component=\"legend\">Hotel rate</Typography>\n      <Rating\n        name=\"stars\"\n        value={hotelData.stars}\n        onChange={(e) => setHotelData({ ...hotelData, stars: e.target.value })}\n      />\n      \n    </Box>\n\n\n\n        <div style={{ padding: '5px 0', width: '94%' }}>\n          <ChipInput\n            name=\"tags\"\n            variant=\"outlined\"\n            label=\"city\"\n            fullWidth\n            value={hotelData.tags}\n            onAdd={(chip) => handleAddChip(chip)}\n            onDelete={(chip) => handleDeleteChip(chip)}\n          />\n        </div>\n        <div className={classes.fileInput}><FileBase type=\"file\" multiple={false} onDone={({ base64 }) => setHotelData({ ...hotelData, selectedFile: base64 })} /></div>\n        <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fullWidth>Save hotel</Button>\n        <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fullWidth>Clear</Button>\n      </form>\n    </Paper>\n  );\n};\n\nexport default FormH;\n\n\n\n\n\n\n/*\n\n        <TextField name=\"stars\" variant=\"outlined\" label=\"stars\" fullWidth value={hotelData.stars} onChange={(e) => setHotelData({ ...hotelData, stars: e.target.value })} />\nonChange={(event, newValue) => {\n          setValue(newValue);\n        }}\n\n\n                <TextField name=\"stars\" variant=\"outlined\" label=\"stars\" fullWidth value={hotelData.stars} onChange={(e) => setHotelData({ ...hotelData, stars: e.target.value })} />\n\n\n*/ "]},"metadata":{},"sourceType":"module"}