{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\dell\\\\Documents\\\\React\\\\Check-Inn-Morocco-teta\\\\Check-Inn-Morocco-V-Beta\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{AppBar,Typography,Toolbar,Avatar,Button}from'@material-ui/core';import{Link,useHistory,useLocation}from'react-router-dom';import{useDispatch}from'react-redux';import decode from'jwt-decode';import memoriesLogo from'../../images/memoriesLogo.png';import memoriesText from'../../images/memoriesText.png';import*as actionType from'../../constants/actionTypes';import useStyles from'./styles';var Navbar=function Navbar(){var _useState=useState(JSON.parse(localStorage.getItem('profile'))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var dispatch=useDispatch();var location=useLocation();var history=useHistory();var classes=useStyles();var logout=function logout(){dispatch({type:actionType.LOGOUT});history.push('/auth');setUser(null);};useEffect(function(){var token=user===null||user===void 0?void 0:user.token;if(token){var decodedToken=decode(token);if(decodedToken.exp*1000<new Date().getTime())logout();}setUser(JSON.parse(localStorage.getItem('profile')));},[location]);return/*#__PURE__*/React.createElement(AppBar,{className:classes.appBar,position:\"sticky\",color:\"inherit\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:classes.brandContainer},/*#__PURE__*/React.createElement(\"img\",{component:Link,to:\"/\",src:memoriesText,alt:\"icon\",height:\"52px\"}),/*#__PURE__*/React.createElement(\"img\",{className:classes.image,src:memoriesLogo,alt:\"icon\",height:\"77px\"})),/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},(user===null||user===void 0?void 0:user.result)?/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/posts\",variant:\"text\",color:\"primary\"},\"Destinations\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/hotels\",variant:\"text\",color:\"primary\"},\"Hotels\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/restaus\",variant:\"text\",color:\"primary\"},\"Restaurents\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/trending\",variant:\"text\",color:\"primary\"},\"Trending\"),/*#__PURE__*/React.createElement(Avatar,{className:classes.purple,alt:user===null||user===void 0?void 0:user.result.name,src:user===null||user===void 0?void 0:user.result.imageUrl},user===null||user===void 0?void 0:user.result.name.charAt(0)),/*#__PURE__*/React.createElement(Typography,{className:classes.userName,variant:\"h6\"},user===null||user===void 0?void 0:user.result.name),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",className:classes.logout,color:\"secondary\",onClick:logout},\"Logout\")):/*#__PURE__*/React.createElement(\"div\",{className:classes.adjustLog},/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/posts\",variant:\"text\",color:\"primary\"},\"Destinations\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/hotels\",variant:\"text\",color:\"primary\"},\"Hotels\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/restaus\",variant:\"text\",color:\"primary\"},\"Restaurents\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/trending\",variant:\"text\",color:\"primary\"},\"Trending\"),/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/auth\",variant:\"contained\",color:\"primary\"},\"Sign In\"))));};export default Navbar;/*\n\n<AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n*/","map":{"version":3,"sources":["C:/Users/dell/Documents/React/Check-Inn-Morocco-teta/Check-Inn-Morocco-V-Beta/client/src/components/Navbar/Navbar.js"],"names":["React","useState","useEffect","AppBar","Typography","Toolbar","Avatar","Button","Link","useHistory","useLocation","useDispatch","decode","memoriesLogo","memoriesText","actionType","useStyles","Navbar","JSON","parse","localStorage","getItem","user","setUser","dispatch","location","history","classes","logout","type","LOGOUT","push","token","decodedToken","exp","Date","getTime","appBar","brandContainer","image","toolbar","result","profile","purple","name","imageUrl","charAt","userName","adjustLog"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { AppBar, Typography, Toolbar, Avatar, Button } from '@material-ui/core';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\n\nimport memoriesLogo from '../../images/memoriesLogo.png';\nimport memoriesText from '../../images/memoriesText.png';\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\n\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const logout = () => {\n    dispatch({ type: actionType.LOGOUT });\n\n    history.push('/auth');\n\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n  return (\n    \n    <AppBar className={classes.appBar} position=\"sticky\" color=\"inherit\">\n      <Link to=\"/\" className={classes.brandContainer}>\n        <img component={Link} to=\"/\" src={memoriesText} alt=\"icon\" height=\"52px\" />\n        <img className={classes.image} src={memoriesLogo} alt=\"icon\" height=\"77px\" />\n      </Link>\n      <Toolbar className={classes.toolbar}>\n        {user?.result ? (\n          <div className={classes.profile}>\n          <Button component={Link} to=\"/posts\" variant=\"text\" color=\"primary\">Destinations</Button>\n          <Button component={Link} to=\"/hotels\" variant=\"text\" color=\"primary\">Hotels</Button>\n          <Button component={Link} to=\"/restaus\" variant=\"text\" color=\"primary\">Restaurents</Button>\n          <Button component={Link} to=\"/trending\" variant=\"text\" color=\"primary\">Trending</Button>\n\n            <Avatar className={classes.purple} alt={user?.result.name} src={user?.result.imageUrl}>{user?.result.name.charAt(0)}</Avatar>\n            <Typography className={classes.userName} variant=\"h6\">{user?.result.name}</Typography>\n            <Button variant=\"contained\" className={classes.logout} color=\"secondary\" onClick={logout}>Logout</Button>\n          </div>\n        ) : (\n          <div className={classes.adjustLog}>\n\n          <Button component={Link} to=\"/posts\" variant=\"text\" color=\"primary\">Destinations</Button>\n          <Button component={Link} to=\"/hotels\" variant=\"text\" color=\"primary\">Hotels</Button>\n          <Button component={Link} to=\"/restaus\" variant=\"text\" color=\"primary\">Restaurents</Button>\n          <Button component={Link} to=\"/trending\" variant=\"text\" color=\"primary\">Trending</Button>\n\n          <Button component={Link} to=\"/auth\" variant=\"contained\" color=\"primary\">Sign In</Button>\n\n        </div> \n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\n\n\nexport default Navbar;\n\n\n\n\n/*\n\n<AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n*/"]},"metadata":{},"sourceType":"module"}