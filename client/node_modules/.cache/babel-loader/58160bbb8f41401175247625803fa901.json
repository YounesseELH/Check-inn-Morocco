{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\dell\\\\Documents\\\\React\\\\Check-Inn-Morocco-teta\\\\Check-Inn-Morocco-V-Beta\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\dell\\\\Documents\\\\React\\\\Check-Inn-Morocco-teta\\\\Check-Inn-Morocco-V-Beta\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{FETCH_ALL,FETCH_BY_SEARCH,FETCH_BY_CREATOR,FETCH_POST,CREATE,UPDATE,DELETE,LIKE,COMMENT}from'../constants/actionTypes';export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isLoading:true,restaus:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'START_LOADING':return _objectSpread(_objectSpread({},state),{},{isLoading:true});case'END_LOADING':return _objectSpread(_objectSpread({},state),{},{isLoading:false});case FETCH_ALL:return _objectSpread(_objectSpread({},state),{},{restaus:action.payload.data,currentPage:action.payload.currentPage,numberOfPages:action.payload.numberOfPages});case FETCH_BY_SEARCH:case FETCH_BY_CREATOR:return _objectSpread(_objectSpread({},state),{},{restaus:action.payload.data});case FETCH_POST:return _objectSpread(_objectSpread({},state),{},{restaus:action.payload.restaus});case LIKE:return _objectSpread(_objectSpread({},state),{},{restaus:state.restaus.map(function(restau){return restau._id===action.payload._id?action.payload:restau;})});case COMMENT:return _objectSpread(_objectSpread({},state),{},{restaus:state.restaus.map(function(restau){if(restau._id==+action.payload._id){return action.payload;}return restau;})});case CREATE:return _objectSpread(_objectSpread({},state),{},{restaus:[].concat(_toConsumableArray(state.restaus),[action.payload])});case UPDATE:return _objectSpread(_objectSpread({},state),{},{restaus:state.restaus.map(function(restau){return restau._id===action.payload._id?action.payload:restau;})});case DELETE:return _objectSpread(_objectSpread({},state),{},{restaus:state.restaus.filter(function(restau){return restau._id!==action.payload;})});default:return state;}});","map":{"version":3,"sources":["C:/Users/dell/Documents/React/Check-Inn-Morocco-teta/Check-Inn-Morocco-V-Beta/client/src/reducers/restaus.js"],"names":["FETCH_ALL","FETCH_BY_SEARCH","FETCH_BY_CREATOR","FETCH_POST","CREATE","UPDATE","DELETE","LIKE","COMMENT","state","isLoading","restaus","action","type","payload","data","currentPage","numberOfPages","map","restau","_id","filter"],"mappings":"qbAAA,OAASA,SAAT,CAAoBC,eAApB,CAAqCC,gBAArC,CAAuDC,UAAvD,CAAmEC,MAAnE,CAA2EC,MAA3E,CAAmFC,MAAnF,CAA2FC,IAA3F,CAAiGC,OAAjG,KAAgH,0BAAhH,CAEA,eAAe,UAAsD,IAArDC,CAAAA,KAAqD,2DAA7C,CAAEC,SAAS,CAAE,IAAb,CAAmBC,OAAO,CAAE,EAA5B,CAA6C,IAAXC,CAAAA,MAAW,2CACnE,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,eAAL,CACE,sCAAYJ,KAAZ,MAAmBC,SAAS,CAAE,IAA9B,GACF,IAAK,aAAL,CACE,sCAAYD,KAAZ,MAAmBC,SAAS,CAAE,KAA9B,GACF,IAAKV,CAAAA,SAAL,CACE,sCACKS,KADL,MAEEE,OAAO,CAAEC,MAAM,CAACE,OAAP,CAAeC,IAF1B,CAGEC,WAAW,CAAEJ,MAAM,CAACE,OAAP,CAAeE,WAH9B,CAIEC,aAAa,CAAEL,MAAM,CAACE,OAAP,CAAeG,aAJhC,GAMF,IAAKhB,CAAAA,eAAL,CACA,IAAKC,CAAAA,gBAAL,CACE,sCAAYO,KAAZ,MAAmBE,OAAO,CAAEC,MAAM,CAACE,OAAP,CAAeC,IAA3C,GACF,IAAKZ,CAAAA,UAAL,CACE,sCAAYM,KAAZ,MAAmBE,OAAO,CAAEC,MAAM,CAACE,OAAP,CAAeH,OAA3C,GACF,IAAKJ,CAAAA,IAAL,CACE,sCAAYE,KAAZ,MAAmBE,OAAO,CAAEF,KAAK,CAACE,OAAN,CAAcO,GAAd,CAAkB,SAACC,MAAD,QAAaA,CAAAA,MAAM,CAACC,GAAP,GAAeR,MAAM,CAACE,OAAP,CAAeM,GAA9B,CAAoCR,MAAM,CAACE,OAA3C,CAAqDK,MAAlE,EAAlB,CAA5B,GACF,IAAKX,CAAAA,OAAL,CACE,sCACKC,KADL,MAEEE,OAAO,CAAEF,KAAK,CAACE,OAAN,CAAcO,GAAd,CAAkB,SAACC,MAAD,CAAY,CACrC,GAAIA,MAAM,CAACC,GAAP,EAAc,CAACR,MAAM,CAACE,OAAP,CAAeM,GAAlC,CAAuC,CACrC,MAAOR,CAAAA,MAAM,CAACE,OAAd,CACD,CACD,MAAOK,CAAAA,MAAP,CACD,CALQ,CAFX,GASF,IAAKf,CAAAA,MAAL,CACE,sCAAYK,KAAZ,MAAmBE,OAAO,8BAAMF,KAAK,CAACE,OAAZ,GAAqBC,MAAM,CAACE,OAA5B,EAA1B,GACF,IAAKT,CAAAA,MAAL,CACE,sCAAYI,KAAZ,MAAmBE,OAAO,CAAEF,KAAK,CAACE,OAAN,CAAcO,GAAd,CAAkB,SAACC,MAAD,QAAaA,CAAAA,MAAM,CAACC,GAAP,GAAeR,MAAM,CAACE,OAAP,CAAeM,GAA9B,CAAoCR,MAAM,CAACE,OAA3C,CAAqDK,MAAlE,EAAlB,CAA5B,GACF,IAAKb,CAAAA,MAAL,CACE,sCAAYG,KAAZ,MAAmBE,OAAO,CAAEF,KAAK,CAACE,OAAN,CAAcU,MAAd,CAAqB,SAACF,MAAD,QAAYA,CAAAA,MAAM,CAACC,GAAP,GAAeR,MAAM,CAACE,OAAlC,EAArB,CAA5B,GACF,QACE,MAAOL,CAAAA,KAAP,CApCJ,CAsCD,CAvCD","sourcesContent":["import { FETCH_ALL, FETCH_BY_SEARCH, FETCH_BY_CREATOR, FETCH_POST, CREATE, UPDATE, DELETE, LIKE, COMMENT } from '../constants/actionTypes';\r\n\r\nexport default (state = { isLoading: true, restaus: [] }, action) => {\r\n  switch (action.type) {\r\n    case 'START_LOADING':\r\n      return { ...state, isLoading: true };\r\n    case 'END_LOADING':\r\n      return { ...state, isLoading: false };\r\n    case FETCH_ALL:\r\n      return {\r\n        ...state,\r\n        restaus: action.payload.data,\r\n        currentPage: action.payload.currentPage,\r\n        numberOfPages: action.payload.numberOfPages,\r\n      };\r\n    case FETCH_BY_SEARCH:\r\n    case FETCH_BY_CREATOR:\r\n      return { ...state, restaus: action.payload.data };\r\n    case FETCH_POST:\r\n      return { ...state, restaus: action.payload.restaus };\r\n    case LIKE:\r\n      return { ...state, restaus: state.restaus.map((restau) => (restau._id === action.payload._id ? action.payload : restau)) };\r\n    case COMMENT:\r\n      return {\r\n        ...state,\r\n        restaus: state.restaus.map((restau) => {\r\n          if (restau._id == +action.payload._id) {\r\n            return action.payload;\r\n          }\r\n          return restau;\r\n        }),\r\n      };\r\n    case CREATE:\r\n      return { ...state, restaus: [...state.restaus, action.payload] };\r\n    case UPDATE:\r\n      return { ...state, restaus: state.restaus.map((restau) => (restau._id === action.payload._id ? action.payload : restau)) };\r\n    case DELETE:\r\n      return { ...state, restaus: state.restaus.filter((restau) => restau._id !== action.payload) };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}